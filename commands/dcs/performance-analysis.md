---
description: 调查性能问题的原因
allowed-tools: Read, Glob, Grep, Task, Bash, AskUserQuestion, TodoWrite
argument-hint: [调查对象(功能名/端点/界面/自然语言)]
---
实施全面调查以确定性能问题的原因。通过初步调查、详细原因分析、最终概要的阶段性创建,明确性能问题的根本原因。

# context

输出目录=".dcs"
当前目录={{项目根目录}}
分析文件列表=[]
调查次数=0

# step

- 如果没有 $1,则显示"请在参数中指定调查对象(例如:端点名、界面名、功能名或自然语言)"并结束
- 简要说明 $1 的内容
- 使用 TodoWrite 工具创建以下任务列表:
  1. 收集性能问题的详细信息
  2. 实施初步调查
  3. 确定原因候选并进行详细调查
  4. 创建最终概要
- 将任务1设为 in_progress
- 使用 AskUserQuestion 工具按顺序进行以下提问,并更新 context:
  1. 确认性能劣化的症状
  2. 确认发生时机
  3. 确认影响范围
  4. 确认环境信息
- 汇总收集的 context 内容并向用户声明
- 将任务1设为 completed,任务2设为 in_progress
- 执行 step2

## step2

- 确认已有的输出文件,确定不重复的编号
  - 搜索 {{输出目录}}/{{timestamp}}_*
  - 创建本次内容的简短英文标识(例如:"order_api"、"cart_screen")
  - 如果存在相同 timestamp 和内容的目录,则将末尾序号 +1
  - 基础目录设为"{{输出目录}}/{{timestamp}}_{{内容的英文化}}"
    - 例:".dcs/20251025_123456_order_api"
    - 例:".dcs/20251025_123456_cart_screen"
- 准备分析结果文件列表
  - 索引文件:"{{基础目录}}/index.md"
  - 初步调查文件:"{{基础目录}}/initial.md"
  - 原因分析文件:"{{基础目录}}/causes.md"
  - 推荐对应文件:"{{基础目录}}/recommendations.md"
- 将所有文件名添加到 分析文件列表
- 使用 context 信息填充 <performance_analysis_template> 的内容,并通过 Task 工具直接执行
  - subagent_type: "general-purpose"
  - description: "性能劣化 初步调查的执行"
  - prompt: 使用 context 填充模板内容的完整提示
- 接收 Task 的执行结果
- 将调查次数设为 1
- 将任务2设为 completed,任务3设为 in_progress
- 执行 step3

## step3

- 使用 Read 确认输出的文件
- 从 causes 文件中列出原因候选
- 判断各原因候选是否需要详细调查
- 需要详细调查的情况:
  - 向用户展示要调查的原因候选列表
  - 获得用户批准
  - 对各原因候选使用 Task 工具单独执行详细调查
    - 每次调查以新的序号保存为追加文件(例:"detail_2.md"、"detail_3.md")
    - 将各文件名添加到 分析文件列表
  - 调查次数 +1
  - 再次执行 step3(重复直到不需要详细调查,最多5次)
- 不需要详细调查的情况:
  - 将任务3设为 completed,任务4设为 in_progress
  - 执行 step4

## step4

- 使用 <summary_template> 的内容,通过 Task 工具创建最终概要文件
  - subagent_type: "general-purpose"
  - description: "性能劣化调查 最终概要的创建"
  - prompt: 使用 context 填充概要模板内容的完整提示
  - 最终概要文件名:"{{基础目录}}/final_summary.md"
- 按调查次数整理并显示所有分析文件的路径
  - 初步调查文件列表
  - 详细调查文件列表(如适用)
  - 最终概要
- 将任务4设为 completed
- 向用户报告调查完成

# rules

## 确认要点

使用 AskUserQuestion 工具,按顺序进行以下提问:

### 问题1: 性能问题的症状
- **问题**: 发生了什么样的性能问题?
- **header**: "症状"
- **multiSelect**: true
- **options**:
  - "响应缓慢" - API 响应或页面显示缓慢
  - "发生超时" - 处理未完成而超时
  - "内存使用量大" - 内存泄漏或内存压力
  - "CPU使用率高" - 过度消耗 CPU 资源
  - "数据库缓慢" - DB 查询执行缓慢
  - "其他" - 上述以外的症状(通过追加指定详情)

### 问题2: 发生时机
- **问题**: 性能问题是从什么时候开始发生的?
- **header**: "发生时期"
- **options**:
  - "最近发布后" - 特定发布后发生
  - "数据量增加后" - 数据库数据增加后
  - "访问量增加后" - 用户数或流量增加后
  - "仅特定时段" - 仅高峰期或特定时刻
  - "始终发生" - 从系统启动时就一直慢

### 问题3: 影响范围
- **问题**: 性能问题的影响范围有多大?
- **header**: "影响范围"
- **options**:
  - "仅特定功能" - 仅部分功能或页面
  - "仅特定用户" - 仅特定条件下的用户
  - "整个系统" - 影响整个系统
  - "不明" - 影响范围不明确

### 问题4: 环境信息
- **问题**: 在哪个环境中发生?
- **header**: "环境"
- **multiSelect**: true
- **options**:
  - "生产环境" - 在生产环境中发生
  - "预发环境" - 在预发环境中发生
  - "开发环境" - 在开发环境中发生
  - "本地环境" - 在本地开发环境中发生

作为 context 保持以下内容:
- 调查对象(具体的功能名或端点)
- 性能劣化的症状
- 发生时机
- 影响范围
- 环境信息

## 文件名规则

### timestamp 的格式
- yyyyMMddHHmmss 格式(例: 20251025123456)

### 内容英文化的规则
- 将调查对象转换为简洁的英文
- 使用蛇形命名法(snake_case)
- 控制在约 30 个字符以内
- 例:
  - "订单API" → "order_api"
  - "购物车界面" → "cart_screen"
  - "商品搜索" → "goods_search"

### 文件构成
- `index.md` - 索引(整体概要和文件列表)
- `initial.md` - 初步调查结果
- `causes.md` - 原因候选的分析
- `recommendations.md` - 推荐对应
- `detail_N.md` - 详细调查结果(N为序号)
- `final_summary.md` - 最终概要

### 完整文件名示例
**初步调查**:
- `.dcs/20251025123456_order_api/index.md`
- `.dcs/20251025123456_order_api/initial.md`
- `.dcs/20251025123456_order_api/causes.md`
- `.dcs/20251025123456_order_api/recommendations.md`

**详细调查**:
- `.dcs/20251025123456_order_api/detail_2.md`
- `.dcs/20251025123456_order_api/detail_3.md`

**最终概要**:
- `.dcs/20251025123456_order_api/final_summary.md`

## 文件路径记载规则

- **使用基于当前目录的相对路径**
- 不记载完整路径(绝对路径)
- 例:
  - ❌ `/Users/makotan/projects/ensemble-si/backend/src/main/kotlin/...`
  - ✅ `backend/src/main/kotlin/...`

## 原因候选的分类

将性能问题的原因候选按以下类别分类:

### 1. 数据库相关
- N+1 查询问题
- 缺少索引
- 低效查询
- 事务长时间锁定
- 数据量增加

### 2. 应用层
- 内存泄漏
- 不当的缓存策略
- 同步处理的瓶颈
- 大量对象创建
- 低效算法
- 重复执行相同处理

### 3. 网络·通信
- 外部 API 调用延迟
- 不必要的通信重复
- 大容量数据传输
- 超时设置不当

### 4. 基础设施·环境
- 资源不足(CPU、内存、磁盘)
- 网络带宽问题
- 环境配置不当
- 日志输出过多

### 5. 架构
- 职责集中
- 模块间紧耦合
- 缺乏可扩展性

## 需要详细调查的条件

满足以下条件之一时,建议详细调查:

- 有多个原因候选,尚未确定
- 需要详细分析数据库查询
- 需要确认代码实现细节
- 需要调查与外部服务的集成部分
- 需要确认环境配置或基础设施
- 需要分析性能测试结果

## step3 的重复规则

- 如有需要详细调查的项目,则重复 step3
- 最多重复 5 次(防止无限循环)
- 详细调查项目有多个时,对各项目单独执行 Task
- 每次重复创建新序号的文件
- 在获得用户批准后执行下一次调查
- 不需要详细调查时进入 step4

# info

<performance_analysis_template>
您是性能问题调查专家。请根据以下信息,调查性能问题的原因并输出文件。

# 调查对象信息

调查对象: {{调查对象的具体信息}}
症状: {{性能劣化的症状}}
发生时机: {{发生时机}}
影响范围: {{影响范围}}
环境: {{环境信息}}
基础目录: {{基础目录}}(例: ".dcs/20251025123456_order_api")
当前目录: {{当前目录}}

# 重要注意事项

**所有文件路径请使用基于当前目录的相对路径记载。**
**请勿使用绝对路径(/Users/... 或 C:\... 等)。**

例:
- ❌ `/Users/makotan/projects/ensemble-si/backend/src/main/kotlin/...`
- ✅ `backend/src/main/kotlin/...`

# 输出文件构成

调查结果请分割输出到以下文件:

1. **索引文件**: `{{基础目录}}/index.md`
   - 整体概要和所有文件的链接

2. **初步调查文件**: `{{基础目录}}/initial.md`
   - 项目概要和调查对象的详细分析

3. **原因分析文件**: `{{基础目录}}/causes.md`
   - 可能的原因候选列表和分析

4. **推荐对应文件**: `{{基础目录}}/recommendations.md`
   - 具体的改进建议和对应方针

# 调查步骤

## 1. 调查对象的特定

- 如果调查对象是自然语言,使用 Grep/Glob 特定具体的文件·函数·类
- 如果调查对象是端点,特定对应的控制器或服务
- 如果调查对象是界面,特定对应的组件和 API 通信
- 记录特定结果(相对路径、行号、代码元素的种类)

## 2. 项目概要的掌握

- 理解架构(BFF、Prismatix Factory、数据流等)
- 确认使用的技术栈
- 特定相关组件
- 确认数据库模式(prismatix-factory/resources/*.yaml)

## 3. 调查对象的详细分析

### 确认代码实现
- 跟踪主要处理流程
- 特定数据库访问部分
- 特定外部 API 调用
- 确认循环或递归处理

### 数据库查询分析
- 提取 SQL 查询
- 估算查询执行次数
- 确认索引的有无
- 评估 JOIN 的复杂性

### 确认依赖关系
- 相关文件及其作用
- 服务间的调用关系
- 数据流动

## 4. 原因候选的特定

从以下观点分析原因候选:

### 数据库相关
- **N+1 问题的有无**: 循环内的查询执行
- **索引**: 是否存在必要的索引
- **查询优化**: JOIN、WHERE 子句、SELECT 子句的效率
- **事务**: 长时间锁定的可能性
- **数据量**: 表的记录数与性能的关系

调查方法:
```bash
# 确认 Prismatix Factory 的资源定义
# 确认索引定义
# 分析查询的复杂性
```

### 应用层
- **内存使用**: 对象创建或缓存策略
- **同步处理**: 阻塞处理的有无
- **算法**: 计算复杂度评估(O(n)、O(n²)等)
- **并行处理**: 异步处理的利用度
- **重复处理**: 流程内相同功能的重复处理

调查方法:
- 代码审查
- 确认循环的嵌套结构
- 分析内存使用模式

### 网络·通信
- **API 调用**: 外部 API 调用的次数和响应时间
- **BFF 层**: BFF 与后端间的通信效率
- **数据大小**: 传输数据量
- **超时**: 适当的超时设置

调查方法:
- 特定 API 调用位置
- 确认数据负载大小
- 估算通信次数

### 基础设施·环境
- **资源**: CPU、内存、磁盘使用率
- **配置**: JVM 选项、连接池设置
- **日志**: 过度的日志输出
- **环境差异**: 生产和开发环境的差异

调查方法:
- 确认配置文件(application.yml、环境变量)
- 确认资源设置
- 确认日志级别

## 5. 各原因候选的评估

对各原因候选评估以下内容:

### 可能性等级
- **高**: 有明确证据,或可能性非常高
- **中**: 有可能性,但需要进一步调查
- **低**: 可能性较低,但建议确认

### 影响度
- **高**: 修正后可期待大幅性能改善
- **中**: 可期待一定程度的改善
- **低**: 改善有限

### 调查难度
- **低**: 可立即确认·验证
- **中**: 需要追加调查或测试
- **高**: 需要大规模调查或环境构建

## 6. 创建推荐对应

### 可立即实施的对应
- 代码修改少,影响范围有限
- 风险低
- 可期待效果

### 需要验证的对应
- 影响范围广
- 需要追加测试
- 应通过性能测试确认效果

### 长期对应
- 伴随架构变更
- 需要大规模重构
- 需要基础设施增强

## 7. 文件输出

请按以下顺序创建各文件。**请使用 Write 工具单独保存各文件。**

### 7.1 创建索引文件
创建 `{{基础目录}}/index.md`

### 7.2 创建初步调查文件
创建 `{{基础目录}}/initial.md`

### 7.3 创建原因分析文件
创建 `{{基础目录}}/causes.md`

### 7.4 创建推荐对应文件
创建 `{{基础目录}}/recommendations.md`

# 各文件的输出格式

## 索引文件 (`index.md`)

```markdown
# 性能劣化调查 - 索引

**实施日期**: {{实施日期}}
**调查者**: Claude Code

---

## 调查概要

### 调查对象
- **对象**: {{调查对象详情}}
- **症状**: {{性能劣化的症状}}
- **发生时机**: {{发生时机}}
- **影响范围**: {{影响范围}}
- **环境**: {{环境信息}}

### 概要

| 项目 | 内容 |
|------|------|
| 原因候选数 | XX件 |
| 高可能性的原因 | XX件 |
| 推荐对应数 | XX件 |

---

## 调查结果文件列表

### 基本信息
- [初步调查](./initial.md) - 项目概要和调查对象的分析
- [原因分析](./causes.md) - 原因候选的列表和评估
- [推荐对应](./recommendations.md) - 具体的改进建议

---

## 快速导航

### 高可能性的原因
1. {{原因1}} - [详情](./causes.md#原因1)
2. {{原因2}} - [详情](./causes.md#原因2)

### 优先对应项目
1. {{对应1}} - [详情](./recommendations.md#对应1)
2. {{对应2}} - [详情](./recommendations.md#对应2)

---

*请从上述链接参考各文件的详情。*
```

## 初步调查文件 (`initial.md`)

```markdown
# 性能劣化调查 - 初步调查

**实施日期**: {{实施日期}}
**调查者**: Claude Code

[← 返回索引](./index.md)

---

## 项目概要

### 架构
{{系统构成概要}}

### 技术栈
- **Frontend**: {{前端技术}}
- **Backend**: {{后端技术}}
- **Database**: {{数据库}}
- **其他**: {{其他主要技术}}

---

## 调查对象详情

### 对象组件
- **文件路径**: [{{相对路径}}]({{相对路径}})
- **种类**: {{组件种类(Controller、Service、Component等)}}
- **作用**: {{组件作用}}

### 处理流程
{{主要处理流程说明}}

### 相关文件
{{调查对象相关的主要文件列表}}

---

## 数据库模式

### 相关表
{{调查对象使用的表信息}}

### 索引定义
{{当前索引定义状况}}

---

## 代码分析

### 主要处理
{{代码的主要处理内容}}

### 数据库访问
{{SQL 查询或 ORM 使用状况}}

### 外部 API 调用
{{与外部服务的集成状况}}

### 循环·递归处理
{{循环或递归处理的有无和内容}}

---

## 观察到的问题点

{{初步调查中发现的关注点}}

---

*详细原因分析请参考 [原因分析文件](./causes.md)。*
```

## 原因分析文件 (`causes.md`)

```markdown
# 性能劣化调查 - 原因分析

**实施日期**: {{实施日期}}
**调查者**: Claude Code

[← 返回索引](./index.md) | [初步调查](./initial.md)

---

## 原因候选概要

| 类别 | 原因候选数 | 高可能性 | 中可能性 | 低可能性 |
|---------|----------|---------|---------|---------|
| 数据库 | XX件 | XX件 | XX件 | XX件 |
| 应用 | XX件 | XX件 | XX件 | XX件 |
| 网络 | XX件 | XX件 | XX件 | XX件 |
| 基础设施 | XX件 | XX件 | XX件 | XX件 |

---

## 数据库相关的原因候选

### 原因1: {{原因名}}

- **可能性等级**: 高/中/低
- **影响度**: 高/中/低
- **调查难度**: 高/中/低

#### 详细说明
{{原因的详细说明}}

#### 证据·依据
- [{{文件路径}}:{{行号}}]({{相对路径}}#L{{行号}})
  - {{对应代码的说明}}
- {{其他证据}}

#### 推定影响
{{此原因对性能的影响}}

#### 验证方法
{{确认此原因的方法}}

---

## 应用层的原因候选

(采用相同格式记述)

---

## 网络·通信的原因候选

(采用相同格式记述)

---

## 基础设施·环境的原因候选

(采用相同格式记述)

---

## 需要追加调查的项目

推荐对以下项目进行详细调查:

1. {{追加调查项目1}}
   - 理由: {{为什么需要追加调查}}
   - 调查内容: {{具体调查什么}}

2. {{追加调查项目2}}
   - 理由: {{为什么需要追加调查}}
   - 调查内容: {{具体调查什么}}

(不需要追加调查时记载"无")

---

*推荐的对应请参考 [推荐对应文件](./recommendations.md)。*
```

## 推荐对应文件 (`recommendations.md`)

```markdown
# 性能劣化调查 - 推荐对应

**实施日期**: {{实施日期}}
**调查者**: Claude Code

[← 返回索引](./index.md) | [原因分析](./causes.md)

---

## 优先级: 高(推荐立即实施)

### 1. {{对应项目1}}

- **对应的原因**: [{{原因名}}](./causes.md#原因名)
- **期待效果**: {{改善效果说明}}
- **实现难度**: 低/中/高
- **风险**: 低/中/高

#### 具体对应内容
{{对应详情}}

#### 实现示例
```语言
// 修正前
{{修正前的代码示例}}

// 修正后
{{修正后的代码示例}}
```

#### 影响范围
{{此对应的影响范围}}

#### 验证方法
{{对应后的验证方法}}

---

## 优先级: 中(推荐验证后实施)

### 1. {{对应项目2}}

(采用相同格式记述)

---

## 优先级: 低(长期改善)

### 1. {{对应项目3}}

(采用相同格式记述)

---

## 性能测试推荐项目

### 负载测试
- **对象**: {{测试对象}}
- **场景**: {{测试场景}}
- **计测指标**: {{计测什么}}

### 基准测试
- **对象**: {{测试对象}}
- **比较项目**: {{比较什么和什么}}

---

## 监控推荐项目

### 应添加的指标
1. {{指标1}} - {{理由}}
2. {{指标2}} - {{理由}}

### 日志输出的追加
1. {{日志位置1}} - {{目的}}
2. {{日志位置2}} - {{目的}}

---

## 其他注意事项

- {{注意点1}}
- {{注意点2}}
- {{注意点3}}

---

*本推荐对应基于调查结果。实际实现前请充分验证。*
```

# 调查注意点

- 不仅基于推测,而要基于代码和数据进行分析
- 考虑多个原因可能复合作用
- 也建议性能测量方法
- 所有文件路径使用相对路径记载
- 原因候选必须评估优先级和影响度

# 输出步骤

**重要**: 请务必按以下顺序创建文件:

1. **首先创建索引文件** (`{{基础目录}}/index.md`)
   - 使用 Write 工具保存

2. **创建初步调查文件** (`{{基础目录}}/initial.md`)
   - 使用 Write 工具保存

3. **创建原因分析文件** (`{{基础目录}}/causes.md`)
   - 使用 Write 工具保存

4. **创建推荐对应文件** (`{{基础目录}}/recommendations.md`)
   - 使用 Write 工具保存

**请使用 Write 工具单独保存各文件。不要合并到一个文件中。**
</performance_analysis_template>

<summary_template>
您是性能劣化调查的概要创建专家。请根据以下信息,创建最终概要。

# 概要创建对象信息

调查对象: {{调查对象的具体信息}}
分析文件列表: {{分析文件列表}}
最终概要文件名: {{概要文件名}}
当前目录: {{当前目录}}

# 重要注意事项

**所有文件路径请使用基于当前目录的相对路径记载。**
**请勿使用绝对路径(/Users/... 或 C:\... 等)。**

例:
- ❌ `/Users/makotan/projects/ensemble-si/backend/src/main/kotlin/...`
- ✅ `backend/src/main/kotlin/...`

# 概要创建步骤

## 1. 读取全部分析文件

- 使用 Read 读取包含在 {{分析文件列表}} 中的所有文件
- 掌握各文件的内容

## 2. 信息整合

- 从所有调查结果整合以下信息
  - 特定的原因总数
  - 最可能的原因
  - 推荐对应的优先顺序
  - 详细调查中查明的新事实

## 3. 结论导出

- 特定最可能的原因
- 如有多个原因复合,说明其关系
- 明确最优先应对的项目

## 4. 行动计划的创建

- 短期对应(可立即实施)
- 中期对应(验证后实施)
- 长期对应(架构改善)

## 5. 概要文件输出

请采用以下输出格式将结果保存到 {{概要文件名}}。

# 输出格式

```markdown
# 性能劣化调查 - 最终概要

**实施日期**: {{实施日期}}
**调查者**: Claude Code

---

## 导航

- [初步调查索引](./index.md)
- [初步调查](./initial.md)
- [原因分析](./causes.md)
- [推荐对应](./recommendations.md)

(如有详细调查则追加)
- [详细调查2](./detail_2.md)
- [详细调查3](./detail_3.md)

---

## 调查概要

### 调查对象
- **对象**: {{调查对象详情}}
- **症状**: {{性能劣化的症状}}
- **发生时机**: {{发生时机}}
- **影响范围**: {{影响范围}}
- **环境**: {{环境信息}}

### 调查实施状况
- **调查次数**: {{调查次数}}次(初步调查 + 详细调查{{N}}次)
- **创建的文件数**: {{文件数}}件
- **特定的原因候选数**: {{原因候选数}}件

---

## 结论

### 最可能的原因

#### 1. {{原因名1}}(可能性: 高)

- **类别**: 数据库/应用/网络/基础设施
- **影响度**: 高/中/低
- **详情**: {{原因详细说明}}
- **证据**: [{{文件路径}}:{{行号}}]({{相对路径}}#L{{行号}})
  - {{证据说明}}

#### 2. {{原因名2}}(可能性: 高)

(采用相同格式记述)

### 其他原因候选

- {{原因3}}(可能性: 中) - {{简要说明}}
- {{原因4}}(可能性: 中) - {{简要说明}}

---

## 综合分析

### 性能劣化的机制

{{多个原因如何交织引起性能劣化}}

### 根本原因

{{根本原因是什么}}

---

## 推荐行动计划

### 阶段1: 立即实施(优先级: 高)

#### 1. {{对应项目1}}

- **对应的原因**: {{原因名}}
- **期待效果**: {{效果说明}}
- **实现难度**: 低/中/高
- **所需时间**: {{概算}}
- **风险**: 低/中/高

**具体对应**:
{{对应详情}}

#### 2. {{对应项目2}}

(采用相同格式记述)

---

### 阶段2: 验证后实施(优先级: 中)

#### 1. {{对应项目3}}

(采用相同格式记述)

---

### 阶段3: 长期改善(优先级: 低)

#### 1. {{对应项目4}}

(采用相同格式记述)

---

## 性能测试策略

### 现状测量

#### 应测量的指标
1. {{指标1}} - {{目的}}
2. {{指标2}} - {{目的}}

#### 测量方法
{{具体测量方法}}

### 改善后的验证

#### 基准场景
1. {{场景1}}
2. {{场景2}}

#### 成功标准
{{以多大程度的改善为目标}}

---

## 监控·持续改善

### 应添加的监控

#### 指标
1. {{指标1}} - {{理由}}
2. {{指标2}} - {{理由}}

#### 告警设置
1. {{告警条件1}}
2. {{告警条件2}}

### 定期审查项目
- {{审查项目1}}
- {{审查项目2}}

---

## 预期改善效果

| 对应项目 | 改善预期 | 依据 |
|---------|----------|------|
| {{对应1}} | {{XX%改善}} | {{依据}} |
| {{对应2}} | {{XX%改善}} | {{依据}} |
| {{对应3}} | {{XX%改善}} | {{依据}} |

---

## 风险与注意事项

### 实现时的风险
1. {{风险1}}
   - **影响**: {{影响说明}}
   - **对策**: {{风险缓解措施}}

2. {{风险2}}
   - **影响**: {{影响说明}}
   - **对策**: {{风险缓解措施}}

### 注意事项
- {{注意点1}}
- {{注意点2}}

---

## 详细调查文件列表

以下文件中记录了详细调查结果:

1. [{{文件名1}}]({{相对路径1}}) - 初步调查
2. [{{文件名2}}]({{相对路径2}}) - 详细调查1
3. [{{文件名3}}]({{相对路径3}}) - 详细调查2
...

---

## 调查的限制事项

- {{限制事项1}}
- {{限制事项2}}
- {{限制事项3}}

---

## 下一步

1. **立即实施**: {{对应项目}}
2. **性能测试**: {{测试内容}}
3. **效果验证**: {{验证方法}}
4. **持续监控**: {{监控项目}}

---

*本概要是整合多个调查结果自动生成的。实现前请充分验证。*
```

# 概要创建注意点

- 全面掌握所有调查结果
- 明确强调最重要的发现
- 提示可执行的行动计划
- 明记风险和注意事项
- 所有文件路径使用相对路径记载

请务必使用 Write 工具,将结果保存到 {{概要文件名}}。
</summary_template>
